{"version":3,"sources":["Fetch/fetch.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/FilmItem/filmItem.module.css","components/FilmItem/filmItem.js","pages/detailsPage.js"],"names":["key","api","FetchMovieDetails","moviesId","fetch","then","response","ok","json","status","FetchMovie","search","FetchMovieCredits","FetchMovieReview","FetchTrends","_arrayLikeToArray","arr","len","length","i","arr2","Array","_slicedToArray","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","TypeError","module","exports","pathRoot","FilmItem","movie","useState","cast","setCast","review","setReview","useParams","history","useHistory","location","useLocation","url","useRouteMatch","base_url","poster_path","tagline","overview","title","release_date","vote_average","genres","releaseDate","Date","useEffect","API","state","type","onClick","className","s","details","src","alt","poster","detailsInfo","getFullYear","vote","titleOverview","titleGenres","map","genresName","id","additional","infoLinks","infoLinksItem","to","pathname","path","castName","profile_path","castPoster","character","credit_id","results","reviewName","author","content","MovieDetails","setErrors","setDetails","catch"],"mappings":"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","file":"static/js/DetailsPage.596976e9.chunk.js","sourcesContent":["const key = '42c0b1dcbf94c63600b15c995325c9e4';\r\n\r\nfunction FetchTrends() {\r\n  \r\n  return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${key}`).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  });\r\n}\r\n\r\nfunction FetchMovie(search) {\r\n    \r\n  return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${key}&language=en-US&query=${search}&page=1&include_adult=false`).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    } \r\n  });\r\n}\r\n\r\nfunction FetchMovieDetails(moviesId) {\r\n  \r\n  return fetch(`https://api.themoviedb.org/3/movie/${moviesId}?api_key=${key}&language=en-US`)\r\n  .then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    } \r\n    if (response.status === 404) {\r\n      return (404);\r\n    }\r\n})}\r\n\r\nfunction FetchMovieCredits(moviesId) {\r\n  return fetch(`https://api.themoviedb.org/3/movie/${moviesId}/credits?api_key=${key}&language=en-US`).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  });\r\n}\r\n\r\nfunction FetchMovieReview(moviesId) {\r\n  return fetch(`https://api.themoviedb.org/3/movie/${moviesId}/reviews?api_key=${key}&language=en-US&page=1`).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  });\r\n}\r\nconst api = {\r\n  FetchMovieDetails,\r\n  FetchMovie,\r\n  FetchMovieCredits,\r\n  FetchMovieReview,\r\n  FetchTrends,\r\n};\r\n\r\nexport default api;","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"filmItem_details__237Vg\",\"poster\":\"filmItem_poster__3-iI5\",\"detailsInfo\":\"filmItem_detailsInfo__2yz7c\",\"genres\":\"filmItem_genres___Anfq\",\"genresName\":\"filmItem_genresName__3Wyl5\",\"additional\":\"filmItem_additional__1koDo\",\"infoLinks\":\"filmItem_infoLinks__1RBOW\",\"infoLinksItem\":\"filmItem_infoLinksItem__yj1rk\",\"castPoster\":\"filmItem_castPoster__2UMTM\"};","import { NavLink, Route, useRouteMatch, useParams, useLocation, useHistory } from 'react-router-dom';\r\nimport { useState, useEffect, React } from 'react';\r\n\r\nimport API from '../../Fetch/fetch';\r\nimport s from './filmItem.module.css';\r\nlet pathRoot\r\nexport default function FilmItem ({movie})  {\r\n    const [cast, setCast] = useState('');\r\n    const [review, setReview] = useState('');\r\n    const {moviesId} = useParams();\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n    const {url} = useRouteMatch();\r\n    const base_url = 'https://image.tmdb.org/t/p/w500'\r\n    const {poster_path, tagline, overview, title, release_date, vote_average, genres} = movie\r\n    const releaseDate=new Date(release_date);\r\n    \r\n    useEffect(() => {\r\n        API.FetchMovieCredits(moviesId).then(cast => {\r\n            setCast((cast));\r\n        },\r\n        )\r\n    },[])\r\n    \r\n    useEffect(() => {\r\n      API.FetchMovieReview(moviesId).then(review => {\r\n        setReview((review));\r\n        pathRoot = location.state\r\n      },\r\n      )\r\n    },[])\r\n    \r\n    const OnGoBack = () => {\r\n        history.push(pathRoot ? pathRoot : location?.state?.from?.state )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <button type='button' onClick = {OnGoBack}>Back</button>\r\n            <div className={s.details}>\r\n                <img src = {base_url + poster_path}   alt={tagline} className={s.poster}/>\r\n                <div className={s.detailsInfo}>\r\n                    <h2 className={s.title}>{title} ({releaseDate.getFullYear()}) </h2>\r\n                    <p className={s.vote}>User Score: {vote_average}</p>\r\n                    <h3 className={s.titleOverview}>Overview</h3>\r\n                    <p className={s.overview}>{overview}</p>\r\n                    <h4 className={s.titleGenres}>Genres</h4>\r\n                    <ul className = {s.genres}>\r\n                        {genres.map (name=>(\r\n                            <li className = {s.genresName} key={name.id}>{name.name}</li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            <div className={s.additional}>\r\n                <p>Additional information</p>\r\n                <ul className={s.infoLinks}>\r\n                    <NavLink className={s.infoLinksItem} to={{pathname:`${url}/cast`,state:{from: location}}}>Cast</NavLink> \r\n                    <NavLink className={s.infoLinksItem} to={{pathname:`${url}/review`,state:{from: location}}}>Reviews</NavLink> \r\n                </ul>\r\n            </div>\r\n            {cast &&\r\n            <Route path =  {`${url}/cast`}>\r\n                <ul className = {s.cast}>\r\n                    {cast.cast.map (name=>(\r\n                    <li className = {s.castName} key={name.credit_id}>\r\n                        {name.profile_path && <img src = {base_url + `${name.profile_path}`}   alt={`${name.name}`} className={s.castPoster}/>}\r\n                        {name.name}\r\n                        {name.character && <p>Character: {name.character}</p>} \r\n                    </li>\r\n                    ))}\r\n                </ul>\r\n            </Route>    \r\n            }\r\n            {review &&\r\n                <Route path =  {`${url}/review`}>\r\n                    {review.results.length!==0 ?\r\n                    <ul className = {s.review}>\r\n                        {review.results.map (name=>(\r\n                        <li className = {s.reviewName} key={name.id}>\r\n                            <h3>Auhor: {name.author}</h3>\r\n                            <p>{name.content}</p>\r\n                        </li> \r\n                        ))}\r\n                    </ul>\r\n                    :<p>We don't have any reviews for this movie</p>}\r\n                </Route>    \r\n            }\r\n        </div>\r\n    )\r\n}","import { useState, useEffect, React } from 'react';\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport API from '../Fetch/fetch';\r\nimport FilmItem from '../components/FilmItem/filmItem'\r\n\r\nlet err\r\nexport default function MovieDetails () {\r\n  const [errors, setErrors] = useState(null);  \r\n  const {moviesId} = useParams();\r\n  const [details, setDetails] = useState('');\r\n  const history = useHistory()\r\n  useEffect(() => {\r\n    API.FetchMovieDetails(moviesId).then(movie => {\r\n      if(movie === 404){\r\n        throw setErrors(err);\r\n      }\r\n    return movie\r\n    })\r\n    .then(movie => {\r\n      setDetails((movie)); \r\n    })\r\n    .catch(err => {\r\n      history.push(\"/home\")\r\n    });\r\n  },[moviesId, history])\r\n\r\n  return (\r\n  \r\n  details &&  <FilmItem movie= {(details)}  />\r\n  \r\n  )\r\n}"],"sourceRoot":""}