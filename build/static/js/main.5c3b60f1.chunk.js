(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={overlay:"modal_overlay__12VPV",modal:"modal_modal__1uSjc"}},12:function(e,t,a){e.exports={imageGallery:"imageGallery_imageGallery__28L_g"}},14:function(e,t,a){e.exports={button:"button_button__2iAp5"}},19:function(e,t,a){},4:function(e,t,a){e.exports={searchbar:"searchbar_searchbar__2YWa4",searchForm:"searchbar_searchForm__3TTnK",searchFormButton:"searchbar_searchFormButton__33CDs",searchFormButtonLabel:"searchbar_searchFormButtonLabel__3Zvcg",searchFormInput:"searchbar_searchFormInput__3alj-"}},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(6),o=a.n(r),s=(a(19),a(20),a(11)),i=a(3),l=a(4),m=a.n(l),h=a(0);function u(e){var t=e.handleSubmit,a=e.handleChange;return Object(h.jsx)("header",{className:m.a.searchbar,children:Object(h.jsxs)("form",{onSubmit:t,className:m.a.searchForm,children:[Object(h.jsx)("button",{type:"submit",className:m.a.searchFormButton,children:Object(h.jsx)("span",{className:m.a.searchFormButtonLabel,children:"Search"})}),Object(h.jsx)("input",{className:m.a.searchFormInput,type:"text",onChange:a,placeholder:"Search images and photos"})]})})}var j=a(12),b=a.n(j);function d(e){var t=e.children;return Object(h.jsx)("ul",{className:b.a.imageGallery,children:t})}var g=a(9),f=a.n(g);function O(e){var t=e.photos,a=e.onClick;return Object(h.jsx)(h.Fragment,{children:t.map((function(e){return Object(h.jsx)("li",{className:f.a.imageGalleryItem,onClick:a,children:Object(h.jsx)("img",{src:e.webformatURL,lowsrc:e.largeImageURL,alt:e.tags,className:f.a.imageGalleryItemImage})},e.id)}))})}var p=a(13),_=a.n(p),x=0;var v={FetchPhoto:function(e){return x+=1,fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(x,"&key=").concat("21938998-67fd96e5d4868b12a769f8729","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){if(e.ok)return e.json()}))},resetPage:function(){x=0},page:x},y=a(14),F=a.n(y);function w(e){var t=e.onClick;return Object(h.jsx)("button",{onClick:t,className:F.a.button,id:"more",children:"Load more"})}var I=a(10),k=a.n(I),N=document.querySelector("#modal-root");function S(e){var t=e.onChange,a=e.state,n=e.image;return Object(r.createPortal)(Object(h.jsx)("div",{className:k.a.overlay,children:Object(h.jsx)("div",{className:k.a.modal,onChange:t,children:Object(h.jsx)("img",{src:n,alt:a.tags})})}),N)}a(42);function C(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(i.a)(r,2),l=o[0],m=o[1],j=Object(n.useState)(null),b=Object(i.a)(j,2),g=b[0],f=b[1],p=Object(n.useState)(!1),x=Object(i.a)(p,2),y=x[0],F=x[1],I=Object(n.useState)(!1),k=Object(i.a)(I,2),N=k[0],C=k[1],G=Object(n.useState)(""),L=Object(i.a)(G,2),B=L[0],E=L[1];Object(n.useEffect)((function(){return window.addEventListener("keydown",P),window.addEventListener("click",T),function(){window.removeEventListener("keydown",P),window.removeEventListener("click",T)}}),[N]);var P=function(e){"Escape"===e.code&&N&&V()},T=function(e){N&&"DIV"===e.target.tagName&&V()},V=function(){C(!N)};return Object(h.jsxs)(h.Fragment,{children:[N&&Object(h.jsx)(S,{onChange:P,state:a,image:B}),Object(h.jsx)(u,{handleSubmit:function(e){e.preventDefault(),v.resetPage(),F(!0);var t=e.target;v.FetchPhoto(l).then((function(e){c(e.hits),F(!1)})).catch((function(e){f("\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441"),F(!1)})),t.reset()},handleChange:function(e){m(e.target.value)}}),y&&Object(h.jsx)(_.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3,className:"loader"}),Object(h.jsxs)("div",{className:"container",children:[g&&Object(h.jsx)("h2",{children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"}),""!==a?Object(h.jsx)(d,{children:Object(h.jsx)(O,{photos:a,onClick:function(e){"LI"===e.currentTarget.tagName&&(C(!0),E(e.target.lowsrc))}})}):Object(h.jsx)(h.Fragment,{}),0!==a.length&&a.length%12===0&&Object(h.jsx)(w,{onClick:function(){v.FetchPhoto(l).then((function(e){c((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.hits))}))})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}})]})]})}o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(C,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={imageGalleryItem:"imageGalleryItem_imageGalleryItem__1H1YE",imageGalleryItemImage:"imageGalleryItem_imageGalleryItemImage__2B2V5"}}},[[43,1,2]]]);
//# sourceMappingURL=main.5c3b60f1.chunk.js.map