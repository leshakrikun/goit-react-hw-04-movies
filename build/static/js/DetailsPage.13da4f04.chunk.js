(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{59:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var c=a(11),s=a(3),n=a(8),r=a(0),i=(a(23),a(22),a(21)),o=a(60),l=a.n(o),j=a(1);function h(e){var t=e.movie,a=Object(r.useState)(""),o=Object(c.a)(a,2),h=o[0],m=o[1],b=Object(r.useState)(""),u=Object(c.a)(b,2),d=u[0],O=u[1],f=Object(r.useState)(null),v=Object(c.a)(f,2),_=(v[0],v[1]),p=Object(r.useState)(""),x=Object(c.a)(p,2),N=(x[0],x[1],Object(s.i)().moviesId),g=Object(s.g)(),I=Object(s.h)(),w=Object(s.j)().url,F="https://image.tmdb.org/t/p/w500",S=t.poster_path,k=t.tagline,L=t.overview,y=t.title,B=t.release_date,C=t.vote_average,M=t.genres,E=new Date(B);Object(r.useEffect)((function(){i.a.FetchMovieCredits(N).then((function(e){m(e)})).catch((function(e){_("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442")}))}),[]),Object(r.useEffect)((function(){i.a.FetchMovieReview(N).then((function(e){O(e)}))}),[]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{type:"button",onClick:function(){var e;g.push(null===I||void 0===I||null===(e=I.state)||void 0===e?void 0:e.from)},children:"Back"}),Object(j.jsxs)("div",{className:l.a.details,children:[Object(j.jsx)("img",{src:F+S,alt:k,className:l.a.poster}),Object(j.jsxs)("div",{className:l.a.detailsInfo,children:[Object(j.jsxs)("h2",{className:l.a.title,children:[y," (",E.getFullYear(),") "]}),Object(j.jsxs)("p",{className:l.a.vote,children:["User Score: ",C]}),Object(j.jsx)("h3",{className:l.a.titleOverview,children:"Overview"}),Object(j.jsx)("p",{className:l.a.overview,children:L}),Object(j.jsx)("h4",{className:l.a.titleGenres,children:"Genres"}),Object(j.jsx)("ul",{className:l.a.genres,children:M.map((function(e){return Object(j.jsx)("li",{className:l.a.genresName,children:e.name},e.id)}))})]})]}),Object(j.jsxs)("div",{className:l.a.additional,children:[Object(j.jsx)("p",{children:"Additional information"}),Object(j.jsxs)("ul",{className:l.a.infoLinks,children:[Object(j.jsx)(n.c,{className:l.a.infoLinksItem,to:{pathname:"".concat(w,"/cast"),state:{from:I}},children:"Cast"}),Object(j.jsx)(n.c,{className:l.a.infoLinksItem,to:{pathname:"".concat(w,"/review"),state:{from:I}},children:"Reviews"})]})]}),h&&Object(j.jsx)(s.b,{path:"".concat(w,"/cast"),children:Object(j.jsx)("ul",{className:l.a.cast,children:h.cast.map((function(e){return Object(j.jsxs)("li",{className:l.a.castName,children:[e.profile_path&&Object(j.jsx)("img",{src:F+"".concat(e.profile_path),alt:"".concat(e.name),className:l.a.castPoster}),e.name,e.character&&Object(j.jsxs)("p",{children:["Character: ",e.character]})]},e.credit_id)}))})}),d&&Object(j.jsx)(s.b,{path:"".concat(w,"/review"),children:0!==d.results.length?Object(j.jsx)("ul",{className:l.a.review,children:d.results.map((function(e){return Object(j.jsxs)("li",{className:l.a.reviewName,children:[Object(j.jsxs)("h3",{children:["Auhor: ",e.author]}),Object(j.jsx)("p",{children:e.content})]},e.id)}))}):Object(j.jsx)("p",{children:"We don't have any reviews for this movie"})})]})}},60:function(e,t,a){e.exports={details:"filmItem_details__237Vg",poster:"filmItem_poster__3-iI5",detailsInfo:"filmItem_detailsInfo__2yz7c",genres:"filmItem_genres___Anfq",genresName:"filmItem_genresName__3Wyl5",additional:"filmItem_additional__1koDo",infoLinks:"filmItem_infoLinks__1RBOW",infoLinksItem:"filmItem_infoLinksItem__yj1rk",castPoster:"filmItem_castPoster__2UMTM"}},61:function(e,t,a){e.exports={searchbar:"searchbar_searchbar__23ex5",searchForm:"searchbar_searchForm__SwE3e",searchFormButton:"searchbar_searchFormButton__24gg3",searchFormButtonLabel:"searchbar_searchFormButtonLabel__31b9z",searchFormInput:"searchbar_searchFormInput__FQfCf"}},63:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return l}));var c=a(11),s=a(0),n=a(3),r=a(21),i=a(59),o=a(1);function l(){var e=Object(n.i)().moviesId,t=Object(s.useState)(""),a=Object(c.a)(t,2),l=a[0],j=a[1];return Object(s.useEffect)((function(){r.a.FetchMovieDetails(e).then((function(e){j(e)}))}),[]),l&&Object(o.jsx)(i.a,{movie:l})}},64:function(e,t,a){"use strict";a.r(t);var c=a(11),s=a(0),n=a(3),r=a(21),i=a(61),o=a.n(i),l=a(1);function j(e){var t=e.handleSubmit,a=e.handleChange;e.search;return Object(l.jsx)("header",{className:o.a.searchbar,children:Object(l.jsxs)("form",{onSubmit:t,className:o.a.searchForm,children:[Object(l.jsx)("button",{type:"submit",className:o.a.searchFormButton,children:Object(l.jsx)("span",{className:o.a.searchFormButtonLabel,children:"Search"})}),Object(l.jsx)("input",{className:o.a.searchFormInput,type:"text",onChange:a,placeholder:"Search movie"})]})})}var h,m=a(22),b=a(23),u=a(14),d=a.n(u);a(59),t.default=function(){var e=Object(s.useState)(""),t=Object(c.a)(e,2),a=t[0],i=t[1],o=Object(s.useState)(!1),u=Object(c.a)(o,2),O=u[0],f=u[1],v=Object(s.useState)(""),_=Object(c.a)(v,2),p=_[0],x=_[1],N=Object(s.useState)(null),g=Object(c.a)(N,2),I=(g[0],g[1],Object(n.g)());return Object(s.useEffect)((function(){x(h)}),[I]),Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{search:a,handleSubmit:function(e){e.preventDefault(),a.trim()&&(f(!0),r.a.FetchMovie(a).then((function(e){x(e),h=e,console.log(111,h),I.push("?query=".concat(a)),f(!1)})))},handleChange:function(e){i(e.target.value)}}),O&&Object(l.jsx)("div",{children:Object(l.jsx)(d.a,{type:"Puff",className:"loader"})}),p&&Object(l.jsx)(m.a,{children:Object(l.jsx)(b.a,{movie:p})})]})}}}]);
//# sourceMappingURL=DetailsPage.13da4f04.chunk.js.map