{"version":3,"sources":["Fetch/fetch.js","components/MovieGallery/movieGallery.js","components/MovieGallery/movieGallery.module.css","components/movieGalleryItem/movieGalleryItem.js","components/movieGalleryItem/movieGalleryItem.module.css","components/Searchbar/searchbar.module.css","components/Searchbar/searchbar.js","pages/movies.js"],"names":["key","page","api","FetchMovieDetails","moviesId","fetch","then","response","ok","json","FetchMovie","search","FetchMovieCredits","FetchMovieReview","FetchTrends","resetPage","MovieGallery","children","className","s","movieGallery","module","exports","MovieGalleryItem","movie","url","useRouteMatch","location","useLocation","results","map","state","movieGalleryItem","to","pathname","id","from","original_title","Searchbar","handleSubmit","handleChange","searchbar","onSubmit","searchForm","type","searchFormButton","searchFormButtonLabel","searchFormInput","onChange","placeholder","oldPage","Movies","useState","setSearch","loading","setLoading","searchMovie","setSearchMovie","history","useHistory","useEffect","e","preventDefault","trim","API","push","target","value"],"mappings":"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","file":"static/js/Movies.1ebbb142.chunk.js","sourcesContent":["const key = '42c0b1dcbf94c63600b15c995325c9e4';\r\nlet page = 0\r\n\r\nfunction FetchTrends() {\r\n  \r\n  return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${key}`).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  });\r\n}\r\n\r\nfunction FetchMovie(search) {\r\n    \r\n  return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${key}&language=en-US&query=${search}&page=1&include_adult=false`).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  });\r\n}\r\n\r\nfunction FetchMovieDetails(moviesId) {\r\n  return fetch(`https://api.themoviedb.org/3/movie/${moviesId}?api_key=${key}&language=en-US`).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  });\r\n}\r\n\r\nfunction FetchMovieCredits(moviesId) {\r\n  return fetch(`https://api.themoviedb.org/3/movie/${moviesId}/credits?api_key=${key}&language=en-US`).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  });\r\n}\r\n\r\nfunction FetchMovieReview(moviesId) {\r\n  return fetch(`https://api.themoviedb.org/3/movie/${moviesId}/reviews?api_key=${key}&language=en-US&page=1`).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  });\r\n}\r\nconst api = {\r\n  FetchMovieDetails,\r\n  FetchMovie,\r\n  FetchMovieCredits,\r\n  FetchMovieReview,\r\n  FetchTrends,\r\n  resetPage,\r\n  page\r\n};\r\n\r\nfunction incrementPage() {\r\n  page += 1;\r\n}\r\n  \r\nfunction resetPage() {\r\n  page = 0;\r\n}\r\nincrementPage()\r\nexport default api;","import React from 'react';\r\nimport s from './movieGallery.module.css';\r\n\r\nexport default function MovieGallery ({children})  {\r\nreturn(\r\n<ul className={s.movieGallery} >\r\n {children}\r\n</ul>\r\n)}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieGallery\":\"movieGallery_movieGallery__FXyk9\"};","import { Link, useRouteMatch, useLocation } from 'react-router-dom';\r\nimport {React} from 'react';\r\nimport s from './movieGalleryItem.module.css';\r\n\r\nexport default function MovieGalleryItem ({movie})  {\r\n  const {url} = useRouteMatch();\r\n  const location = useLocation();\r\n  return(\r\n    <>\r\n      {movie.results.map (state =>(\r\n        <li className={s.movieGalleryItem} key={state.id}>\r\n         <Link to=\r\n          {{pathname: `${url}/${state.id}`,\r\n            state:{from: location}, \r\n          }}>\r\n           {state.original_title}</Link> \r\n        </li>\r\n      ))} \r\n    </>\r\n)}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieGalleryItem\":\"movieGalleryItem_movieGalleryItem__2LQuN\",\"movieGalleryItemImage\":\"movieGalleryItem_movieGalleryItemImage__3eoX2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"searchbar_searchbar__23ex5\",\"searchForm\":\"searchbar_searchForm__SwE3e\",\"searchFormButton\":\"searchbar_searchFormButton__24gg3\",\"searchFormButtonLabel\":\"searchbar_searchFormButtonLabel__31b9z\",\"searchFormInput\":\"searchbar_searchFormInput__FQfCf\"};","import React from 'react';\r\nimport s from './searchbar.module.css';\r\n\r\nexport default function Searchbar ({handleSubmit,  handleChange, search})  {\r\n  \r\n  return(\r\n\r\n    <header className={s.searchbar}>\r\n      <form onSubmit={handleSubmit} className={s.searchForm}>\r\n        <button type=\"submit\" className={s.searchFormButton}>\r\n          <span className={s.searchFormButtonLabel}>Search</span>\r\n        </button>\r\n        <input\r\n          className={s.searchFormInput}\r\n          type=\"text\"\r\n          onChange={handleChange} \r\n          placeholder=\"Search movie\"\r\n        />\r\n      </form>\r\n    </header>\r\n    \r\n  )\r\n}","import { React, useState, useEffect } from 'react';\r\nimport {useHistory} from 'react-router-dom'\r\nimport API from '../Fetch/fetch';\r\nimport Searchbar from '../components/Searchbar/searchbar';\r\nimport MovieGallery from '../components/MovieGallery/movieGallery'\r\nimport MovieGalleryItem from '../components/movieGalleryItem/movieGalleryItem'\r\nimport Loader from 'react-loader-spinner'\r\n\r\nlet oldPage\r\n  const Movies = () => {\r\n    \r\n    const [search, setSearch] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [searchMovie, setSearchMovie] = useState('');\r\n    const [errors, setErrors] = useState(null);\r\n    const history = useHistory()\r\n\r\n\r\n    const handleChange = (e) => {\r\n    setSearch(e.target.value )\r\n    } \r\n  \r\n   const handleSubmit = e => {\r\n      e.preventDefault();\r\n      if(search.trim()){\r\n        setLoading(true)\r\n      API.FetchMovie(search)\r\n        .then(searchMovie =>  {\r\n          setSearchMovie((searchMovie))\r\n          oldPage = searchMovie\r\n          history.push(`?query=${search}`) \r\n        setLoading(false)}, \r\n          )\r\n        }\r\n  };\r\n  useEffect(() => {\r\n    setSearchMovie((oldPage))\r\n  },[history])\r\n\r\n    return (\r\n          <div>  \r\n         <Searchbar  search = {search} handleSubmit ={handleSubmit}  handleChange={handleChange} />\r\n         {loading && \r\n        <div>\r\n         <Loader \r\n          type={ 'Puff'}\r\n          className='loader'>\r\n        </Loader>\r\n        </div>}\r\n\r\n         {searchMovie &&\r\n         <MovieGallery>\r\n           <MovieGalleryItem movie= {(searchMovie)} /> \r\n         </MovieGallery>}\r\n         </div>\r\n    )}\r\n  export default  Movies"],"sourceRoot":""}