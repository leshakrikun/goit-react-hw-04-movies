(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{53:function(e,t,n){"use strict";var c="42c0b1dcbf94c63600b15c995325c9e4";var i={FetchMovieDetails:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(c,"&language=en-US")).then((function(e){return e.ok?e.json():404===e.status?404:void 0}))},FetchMovie:function(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(c,"&language=en-US&query=").concat(e,"&page=1&include_adult=false")).then((function(e){if(e.ok)return e.json()}))},FetchMovieCredits:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(c,"&language=en-US")).then((function(e){if(e.ok)return e.json()}))},FetchMovieReview:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(c,"&language=en-US&page=1")).then((function(e){if(e.ok)return e.json()}))},FetchTrends:function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(c)).then((function(e){if(e.ok)return e.json()}))}};t.a=i},54:function(e,t,n){"use strict";function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],c=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(c=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);c=!0);}catch(o){i=!0,a=o}finally{try{c||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return i}))},59:function(e,t,n){e.exports={details:"filmItem_details__237Vg",poster:"filmItem_poster__3-iI5",detailsInfo:"filmItem_detailsInfo__2yz7c",genres:"filmItem_genres___Anfq",genresName:"filmItem_genresName__3Wyl5",additional:"filmItem_additional__1koDo",infoLinks:"filmItem_infoLinks__1RBOW",infoLinksItem:"filmItem_infoLinksItem__yj1rk",castPoster:"filmItem_castPoster__2UMTM"}},62:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var c,i=n(54),a=n(0),r=n(3),s=n(53),o=n(9),l=n(59),u=n.n(l),h=n(1);function f(e){var t=e.movie,n=Object(a.useState)(""),l=Object(i.a)(n,2),f=l[0],m=l[1],d=Object(a.useState)(""),j=Object(i.a)(d,2),b=j[0],v=j[1],p=Object(r.i)().moviesId,O=Object(r.g)(),g=Object(r.h)(),_=Object(r.j)().url,x="https://image.tmdb.org/t/p/w500",y=t.poster_path,w=t.tagline,N=t.overview,k=t.title,I=t.release_date,S=t.vote_average,M=t.genres,A=new Date(I);Object(a.useEffect)((function(){s.a.FetchMovieCredits(p).then((function(e){m(e)}))}),[]),Object(a.useEffect)((function(){s.a.FetchMovieReview(p).then((function(e){v(e),c=g.state}))}),[]);return Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{type:"button",onClick:function(){var e,t;O.push(c||(null===g||void 0===g||null===(e=g.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.state))},children:"Back"}),Object(h.jsxs)("div",{className:u.a.details,children:[Object(h.jsx)("img",{src:x+y,alt:w,className:u.a.poster}),Object(h.jsxs)("div",{className:u.a.detailsInfo,children:[Object(h.jsxs)("h2",{className:u.a.title,children:[k," (",A.getFullYear(),") "]}),Object(h.jsxs)("p",{className:u.a.vote,children:["User Score: ",S]}),Object(h.jsx)("h3",{className:u.a.titleOverview,children:"Overview"}),Object(h.jsx)("p",{className:u.a.overview,children:N}),Object(h.jsx)("h4",{className:u.a.titleGenres,children:"Genres"}),Object(h.jsx)("ul",{className:u.a.genres,children:M.map((function(e){return Object(h.jsx)("li",{className:u.a.genresName,children:e.name},e.id)}))})]})]}),Object(h.jsxs)("div",{className:u.a.additional,children:[Object(h.jsx)("p",{children:"Additional information"}),Object(h.jsxs)("ul",{className:u.a.infoLinks,children:[Object(h.jsx)(o.c,{className:u.a.infoLinksItem,to:{pathname:"".concat(_,"/cast"),state:{from:g}},children:"Cast"}),Object(h.jsx)(o.c,{className:u.a.infoLinksItem,to:{pathname:"".concat(_,"/review"),state:{from:g}},children:"Reviews"})]})]}),f&&Object(h.jsx)(r.b,{path:"".concat(_,"/cast"),children:Object(h.jsx)("ul",{className:u.a.cast,children:f.cast.map((function(e){return Object(h.jsxs)("li",{className:u.a.castName,children:[e.profile_path&&Object(h.jsx)("img",{src:x+"".concat(e.profile_path),alt:"".concat(e.name),className:u.a.castPoster}),e.name,e.character&&Object(h.jsxs)("p",{children:["Character: ",e.character]})]},e.credit_id)}))})}),b&&Object(h.jsx)(r.b,{path:"".concat(_,"/review"),children:0!==b.results.length?Object(h.jsx)("ul",{className:u.a.review,children:b.results.map((function(e){return Object(h.jsxs)("li",{className:u.a.reviewName,children:[Object(h.jsxs)("h3",{children:["Auhor: ",e.author]}),Object(h.jsx)("p",{children:e.content})]},e.id)}))}):Object(h.jsx)("p",{children:"We don't have any reviews for this movie"})})]})}function m(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=(t[0],t[1]),c=Object(r.i)().moviesId,o=Object(a.useState)(""),l=Object(i.a)(o,2),u=l[0],m=l[1],d=Object(r.g)();return Object(a.useEffect)((function(){s.a.FetchMovieDetails(c).then((function(e){if(404===e)throw n(undefined);return e})).then((function(e){m(e)})).catch((function(e){d.push("/home")}))}),[c,d]),u&&Object(h.jsx)(f,{movie:u})}}}]);
//# sourceMappingURL=DetailsPage.596976e9.chunk.js.map