(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{54:function(e,t,c){"use strict";var n="42c0b1dcbf94c63600b15c995325c9e4",a=0;var i={FetchMovieDetails:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(n,"&language=en-US")).then((function(e){if(e.ok)return e.json()}))},FetchMovie:function(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(n,"&language=en-US&query=").concat(e,"&page=1&include_adult=false")).then((function(e){if(e.ok)return e.json()}))},FetchMovieCredits:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(n,"&language=en-US")).then((function(e){if(e.ok)return e.json()}))},FetchMovieReview:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(n,"&language=en-US&page=1")).then((function(e){if(e.ok)return e.json()}))},FetchTrends:function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(n)).then((function(e){if(e.ok)return e.json()}))},resetPage:function(){a=0},page:a};a+=1,t.a=i},59:function(e,t,c){e.exports={details:"filmItem_details__237Vg",poster:"filmItem_poster__3-iI5",detailsInfo:"filmItem_detailsInfo__2yz7c",genres:"filmItem_genres___Anfq",genresName:"filmItem_genresName__3Wyl5",additional:"filmItem_additional__1koDo",infoLinks:"filmItem_infoLinks__1RBOW",infoLinksItem:"filmItem_infoLinksItem__yj1rk",castPoster:"filmItem_castPoster__2UMTM"}},62:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return m}));var n=c(15),a=c(0),i=c(3),s=c(54),r=c(8),o=c(59),l=c.n(o),h=c(1);function j(e){var t=e.movie,c=Object(a.useState)(""),o=Object(n.a)(c,2),j=o[0],m=o[1],u=Object(a.useState)(""),f=Object(n.a)(u,2),d=f[0],b=f[1],v=Object(a.useState)(null),p=Object(n.a)(v,2),O=(p[0],p[1]),_=Object(i.i)().moviesId,g=Object(i.g)(),x=Object(i.h)(),N=Object(i.j)().url,k="https://image.tmdb.org/t/p/w500",w=t.poster_path,I=t.tagline,y=t.overview,F=t.title,M=t.release_date,S=t.vote_average,L=t.genres,U=new Date(M);Object(a.useEffect)((function(){s.a.FetchMovieCredits(_).then((function(e){m(e)})).catch((function(e){O("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442")}))}),[]),Object(a.useEffect)((function(){s.a.FetchMovieReview(_).then((function(e){b(e)}))}),[]);return Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{type:"button",onClick:function(){var e;g.push(null===x||void 0===x||null===(e=x.state)||void 0===e?void 0:e.from)},children:"Back"}),Object(h.jsxs)("div",{className:l.a.details,children:[Object(h.jsx)("img",{src:k+w,alt:I,className:l.a.poster}),Object(h.jsxs)("div",{className:l.a.detailsInfo,children:[Object(h.jsxs)("h2",{className:l.a.title,children:[F," (",U.getFullYear(),") "]}),Object(h.jsxs)("p",{className:l.a.vote,children:["User Score: ",S]}),Object(h.jsx)("h3",{className:l.a.titleOverview,children:"Overview"}),Object(h.jsx)("p",{className:l.a.overview,children:y}),Object(h.jsx)("h4",{className:l.a.titleGenres,children:"Genres"}),Object(h.jsx)("ul",{className:l.a.genres,children:L.map((function(e){return Object(h.jsx)("li",{className:l.a.genresName,children:e.name},e.id)}))})]})]}),Object(h.jsxs)("div",{className:l.a.additional,children:[Object(h.jsx)("p",{children:"Additional information"}),Object(h.jsxs)("ul",{className:l.a.infoLinks,children:[Object(h.jsx)(r.c,{className:l.a.infoLinksItem,to:{pathname:"".concat(N,"/cast"),state:{from:x}},children:"Cast"}),Object(h.jsx)(r.c,{className:l.a.infoLinksItem,to:{pathname:"".concat(N,"/review"),state:{from:x}},children:"Reviews"})]})]}),j&&Object(h.jsx)(i.b,{path:"".concat(N,"/cast"),children:Object(h.jsx)("ul",{className:l.a.cast,children:j.cast.map((function(e){return Object(h.jsxs)("li",{className:l.a.castName,children:[e.profile_path&&Object(h.jsx)("img",{src:k+"".concat(e.profile_path),alt:"".concat(e.name),className:l.a.castPoster}),e.name,e.character&&Object(h.jsxs)("p",{children:["Character: ",e.character]})]},e.credit_id)}))})}),d&&Object(h.jsx)(i.b,{path:"".concat(N,"/review"),children:0!==d.results.length?Object(h.jsx)("ul",{className:l.a.review,children:d.results.map((function(e){return Object(h.jsxs)("li",{className:l.a.reviewName,children:[Object(h.jsxs)("h3",{children:["Auhor: ",e.author]}),Object(h.jsx)("p",{children:e.content})]},e.id)}))}):Object(h.jsx)("p",{children:"We don't have any reviews for this movie"})})]})}function m(){var e=Object(i.i)().moviesId,t=Object(a.useState)(""),c=Object(n.a)(t,2),r=c[0],o=c[1];return Object(a.useEffect)((function(){s.a.FetchMovieDetails(e).then((function(e){o(e)}))}),[]),r&&Object(h.jsx)(j,{movie:r})}}}]);
//# sourceMappingURL=DetailsPage.e2844c51.chunk.js.map