{"version":3,"sources":["Fetch/fetch.js","components/FilmItem/filmItem.module.css","components/FilmItem/filmItem.js","pages/detailsPage.js"],"names":["key","page","api","FetchMovieDetails","moviesId","fetch","then","response","ok","json","FetchMovie","search","FetchMovieCredits","FetchMovieReview","FetchTrends","resetPage","module","exports","FilmItem","movie","useState","cast","setCast","review","setReview","setErrors","useParams","history","useHistory","location","useLocation","url","useRouteMatch","base_url","poster_path","tagline","overview","title","release_date","vote_average","genres","releaseDate","Date","useEffect","API","catch","errors","type","onClick","push","state","from","className","s","details","src","alt","poster","detailsInfo","getFullYear","vote","titleOverview","titleGenres","map","name","genresName","id","additional","infoLinks","infoLinksItem","to","pathname","path","castName","profile_path","castPoster","character","credit_id","results","length","reviewName","author","content","MovieDetails","setDetails"],"mappings":"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","file":"static/js/DetailsPage.e2844c51.chunk.js","sourcesContent":["const key = '42c0b1dcbf94c63600b15c995325c9e4';\r\nlet page = 0\r\n\r\nfunction FetchTrends() {\r\n  \r\n  return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${key}`).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  });\r\n}\r\n\r\nfunction FetchMovie(search) {\r\n    \r\n  return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${key}&language=en-US&query=${search}&page=1&include_adult=false`).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  });\r\n}\r\n\r\nfunction FetchMovieDetails(moviesId) {\r\n  return fetch(`https://api.themoviedb.org/3/movie/${moviesId}?api_key=${key}&language=en-US`).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  });\r\n}\r\n\r\nfunction FetchMovieCredits(moviesId) {\r\n  return fetch(`https://api.themoviedb.org/3/movie/${moviesId}/credits?api_key=${key}&language=en-US`).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  });\r\n}\r\n\r\nfunction FetchMovieReview(moviesId) {\r\n  return fetch(`https://api.themoviedb.org/3/movie/${moviesId}/reviews?api_key=${key}&language=en-US&page=1`).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  });\r\n}\r\nconst api = {\r\n  FetchMovieDetails,\r\n  FetchMovie,\r\n  FetchMovieCredits,\r\n  FetchMovieReview,\r\n  FetchTrends,\r\n  resetPage,\r\n  page\r\n};\r\n\r\nfunction incrementPage() {\r\n  page += 1;\r\n}\r\n  \r\nfunction resetPage() {\r\n  page = 0;\r\n}\r\nincrementPage()\r\nexport default api;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"filmItem_details__237Vg\",\"poster\":\"filmItem_poster__3-iI5\",\"detailsInfo\":\"filmItem_detailsInfo__2yz7c\",\"genres\":\"filmItem_genres___Anfq\",\"genresName\":\"filmItem_genresName__3Wyl5\",\"additional\":\"filmItem_additional__1koDo\",\"infoLinks\":\"filmItem_infoLinks__1RBOW\",\"infoLinksItem\":\"filmItem_infoLinksItem__yj1rk\",\"castPoster\":\"filmItem_castPoster__2UMTM\"};","import { NavLink, Route, useRouteMatch, useParams, useLocation, useHistory } from 'react-router-dom';\r\nimport { useState, useEffect, React } from 'react';\r\n\r\nimport API from '../../Fetch/fetch';\r\nimport s from './filmItem.module.css';\r\n\r\nexport default function FilmItem ({movie})  {\r\n    const [cast, setCast] = useState('');\r\n    const [review, setReview] = useState('');\r\n    const [errors, setErrors] = useState(null);\r\n    const {moviesId} = useParams();\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n    const {url} = useRouteMatch();\r\n    const base_url = 'https://image.tmdb.org/t/p/w500'\r\n    const {poster_path, tagline, overview, title, release_date, vote_average, genres} = movie\r\n    const releaseDate=new Date(release_date);\r\n    \r\n    useEffect(() => {\r\n        API.FetchMovieCredits(moviesId).then(cast => {\r\n            setCast((cast));\r\n        },\r\n        )\r\n        .catch(errors => {\r\n            setErrors('Информация отсутствует')    \r\n          });\r\n    },[])\r\n    \r\n    useEffect(() => {\r\n      API.FetchMovieReview(moviesId).then(review => {\r\n        setReview((review));\r\n      },\r\n      )\r\n    },[])\r\n\r\n    const OnGoBack = () => {\r\n        history.push(location?.state?.from)\r\n    }\r\n     \r\n    return (\r\n        <div>\r\n            <button type='button' onClick = {OnGoBack}>Back</button>\r\n            <div className={s.details}>\r\n                <img src = {base_url + poster_path}   alt={tagline} className={s.poster}/>\r\n                <div className={s.detailsInfo}>\r\n                    <h2 className={s.title}>{title} ({releaseDate.getFullYear()}) </h2>\r\n                    <p className={s.vote}>User Score: {vote_average}</p>\r\n                    <h3 className={s.titleOverview}>Overview</h3>\r\n                    <p className={s.overview}>{overview}</p>\r\n                    <h4 className={s.titleGenres}>Genres</h4>\r\n                    <ul className = {s.genres}>\r\n                        {genres.map (name=>(\r\n                            <li className = {s.genresName} key={name.id}>{name.name}</li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            <div className={s.additional}>\r\n                <p>Additional information</p>\r\n                <ul className={s.infoLinks}>\r\n                    <NavLink className={s.infoLinksItem} to={{pathname:`${url}/cast`,state:{from: location}}}>Cast</NavLink> \r\n                    <NavLink className={s.infoLinksItem} to={{pathname:`${url}/review`,state:{from: location}}}>Reviews</NavLink> \r\n                </ul>\r\n            </div>\r\n            {cast &&\r\n            <Route path =  {`${url}/cast`}>\r\n                <ul className = {s.cast}>\r\n                    {cast.cast.map (name=>(\r\n                    <li className = {s.castName} key={name.credit_id}>\r\n                        {name.profile_path && <img src = {base_url + `${name.profile_path}`}   alt={`${name.name}`} className={s.castPoster}/>}\r\n                        {name.name}\r\n                        {name.character && <p>Character: {name.character}</p>} \r\n                    </li>\r\n                    ))}\r\n                </ul>\r\n            </Route>    \r\n            }\r\n            {review &&\r\n                <Route path =  {`${url}/review`}>\r\n                    {review.results.length!==0 ?\r\n                    <ul className = {s.review}>\r\n                        {review.results.map (name=>(\r\n                        <li className = {s.reviewName} key={name.id}>\r\n                            <h3>Auhor: {name.author}</h3>\r\n                            <p>{name.content}</p>\r\n                        </li> \r\n                        ))}\r\n                    </ul>\r\n                    :<p>We don't have any reviews for this movie</p>}\r\n                </Route>    \r\n            }\r\n        </div>\r\n    )\r\n}","import { useState, useEffect, React } from 'react';\r\nimport { useParams } from \"react-router-dom\";\r\nimport API from '../Fetch/fetch';\r\nimport FilmItem from '../components/FilmItem/filmItem'\r\n\r\nexport default function MovieDetails () {\r\n    \r\n  const {moviesId} = useParams();\r\n  const [details, setDetails] = useState('');\r\n\r\n  useEffect(() => {\r\n    API.FetchMovieDetails(moviesId).then(movie => {\r\n        setDetails((movie));\r\n    },\r\n    )\r\n  },[])\r\n\r\nreturn (\r\n  details &&  <FilmItem movie= {(details)}  /> \r\n)\r\n}"],"sourceRoot":""}