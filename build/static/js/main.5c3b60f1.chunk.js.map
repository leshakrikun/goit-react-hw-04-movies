{"version":3,"sources":["components/Modal/modal.module.css","components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","components/Searchbar/searchbar.module.css","components/Searchbar/searchbar.js","components/ImageGallery/imageGallery.js","components/ImageGalleryItem/imageGalleryItem.js","Fetch/fetch.js","components/Button/button.js","components/Modal/modal.js","App.js","index.js","components/ImageGalleryItem/imageGalleryItem.module.css"],"names":["module","exports","Searchbar","handleSubmit","handleChange","className","s","searchbar","onSubmit","searchForm","type","searchFormButton","searchFormButtonLabel","searchFormInput","onChange","placeholder","ImageGallery","children","imageGallery","ImageGalleryItem","photos","onClick","map","state","imageGalleryItem","src","webformatURL","lowsrc","largeImageURL","alt","tags","imageGalleryItemImage","id","page","api","FetchPhoto","search","fetch","then","response","ok","json","resetPage","Button","button","modalRoot","document","querySelector","Modal","image","createPortal","overlay","modal","App","useState","setPhotos","setSearch","errors","setErrors","loading","setLoading","showModal","setShowModal","largeImage","setLargeImage","useEffect","window","addEventListener","handleKeyDown","handleMouseClick","removeEventListener","e","code","toggleModal","target","tagName","preventDefault","API","form","hits","catch","reset","value","color","height","width","timeout","currentTarget","length","photo","finally","scrollTo","top","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5c3b60f1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__12VPV\",\"modal\":\"modal_modal__1uSjc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__28L_g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__2iAp5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"searchbar_searchbar__2YWa4\",\"searchForm\":\"searchbar_searchForm__3TTnK\",\"searchFormButton\":\"searchbar_searchFormButton__33CDs\",\"searchFormButtonLabel\":\"searchbar_searchFormButtonLabel__3Zvcg\",\"searchFormInput\":\"searchbar_searchFormInput__3alj-\"};","import React from 'react';\r\nimport s from './searchbar.module.css';\r\n\r\nexport default function Searchbar ({handleSubmit,  handleChange})  {\r\n  return(\r\n    <header className={s.searchbar}>\r\n      <form onSubmit={handleSubmit} className={s.searchForm}>\r\n        <button type=\"submit\" className={s.searchFormButton}>\r\n          <span className={s.searchFormButtonLabel}>Search</span>\r\n        </button>\r\n        <input\r\n          className={s.searchFormInput}\r\n          type=\"text\"\r\n          onChange={handleChange} \r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  )\r\n}","import React from 'react';\r\nimport s from './imageGallery.module.css';\r\n\r\nexport default function ImageGallery ({children})  {\r\nreturn(\r\n<ul className={s.imageGallery} >\r\n {children}\r\n</ul>\r\n)}","import s from './imageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem ({photos, onClick})  {\r\n  return(\r\n    <>\r\n      {photos.map (state =>(\r\n        <li className={s.imageGalleryItem} key={state.id}  onClick={onClick}  >\r\n          <img src={state.webformatURL} lowsrc={state.largeImageURL}  alt={state.tags} className={s.imageGalleryItemImage}/>\r\n        </li>\r\n      ))}\r\n    </>\r\n)}\r\n\r\n","const key = '21938998-67fd96e5d4868b12a769f8729';\r\nlet page = 0\r\nfunction FetchPhoto(search) {\r\n  \r\n  incrementPage()\r\n    return fetch(`https://pixabay.com/api/?q=${search}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`).then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n    });\r\n}\r\n  \r\nconst api = {\r\n  FetchPhoto,\r\n  resetPage,\r\n  page\r\n};\r\n\r\nfunction incrementPage() {\r\n  page += 1;\r\n}\r\n  \r\nfunction resetPage() {\r\n  page = 0;\r\n}\r\n\r\nexport default api;","import s from './button.module.css';\r\n\r\nexport default  function Button ({onClick})  {\r\n  return(\r\n    <button onClick={onClick} className={s.button} id=\"more\">\r\n      Load more\r\n    </button>\r\n  )\r\n}","import React from 'react';\r\nimport {createPortal} from 'react-dom'\r\nimport s from './modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root')\r\n\r\nexport default  function Modal ({onChange, state, image})  {\r\n  \r\n  return(\r\n    createPortal(\r\n      <div className={s.overlay}  >\r\n        <div className={s.modal} onChange={onChange}>\r\n          <img src={image} alt={state.tags}  />\r\n        </div>\r\n      </div>, modalRoot)\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n","import { useState, useEffect } from 'react';\nimport Searchbar from './components/Searchbar/searchbar'\nimport ImageGallery from './components/ImageGallery/imageGallery'\nimport ImageGalleryItem from './components/ImageGalleryItem/imageGalleryItem'\nimport Loader from 'react-loader-spinner'\nimport API from './Fetch/fetch';\nimport Button from './components/Button/button'\nimport Modal from './components/Modal/modal'\nimport './App.css'\n\nexport default function App () {\n  const [photos, setPhotos] = useState('');\n  const [search, setSearch] = useState('');\n  const [errors, setErrors] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImage, setLargeImage] = useState('');\n\n  useEffect(() => {\n      window.addEventListener('keydown', handleKeyDown);\n      window.addEventListener('click', handleMouseClick);\n    return () => { \n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('click', handleMouseClick);\n  }\n  }, [showModal]);\n\n  const handleKeyDown = (e) => {\n    if (e.code === 'Escape' && showModal) {\n      toggleModal();\n    }\n  }\n\n  const handleMouseClick = (e) => {\n    if (showModal && e.target.tagName==='DIV') {\n      toggleModal();\n   }\n  }\n\n  const toggleModal = () =>{\n    setShowModal(!showModal)  \n  }\n  \n  const handleSubmit = e => {\n    e.preventDefault();\n    API.resetPage()\n    setLoading(true)\n    const form = e.target \n    API.FetchPhoto(search)\n      .then(photos =>  {\n        setPhotos(photos.hits)\n        setLoading(false)})\n      .catch(errors => {\n        setErrors('Повторите запрос')\n        setLoading(false)\n      });\n      form.reset(); \n  };\n  \n  const handleChange = (e) => {\n  setSearch(e.target.value )\n  } \n\n  const onMoreClick = () => {\n    API.FetchPhoto(search)\n      .then(photos => {\n        setPhotos(photo =>[...photo, ...photos.hits])\n      })\n      .finally(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n  }; \n\n  const handleOpenModal = e => {\n    if (e.currentTarget.tagName === 'LI') {\n      setShowModal(true)\n      setLargeImage(e.target.lowsrc)\n    };\n  }\n  \n    return (\n    <>\n    {showModal &&  (\n      <Modal onChange={handleKeyDown} state={photos} image={largeImage} />\n    )}\n    <Searchbar  handleSubmit = {handleSubmit}  handleChange={handleChange} />\n    {loading && <Loader \n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000} className='loader'>\n        </Loader>}\n    <div className='container'>\n    {errors && <h2>Ошибка запроса</h2>}\n   {photos !== \"\" ?\n    <ImageGallery>\n      <ImageGalleryItem photos= {photos} onClick={handleOpenModal}/> \n    </ImageGallery>: <></>}\n    {(photos.length!==0 && photos.length %12===0) && <Button onClick={onMoreClick}/>}\n    </div>\n    </>\n)}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'normalize.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"imageGalleryItem_imageGalleryItem__1H1YE\",\"imageGalleryItemImage\":\"imageGalleryItem_imageGalleryItemImage__2B2V5\"};"],"sourceRoot":""}